<html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=KOI8-R" />
  <link rel="stylesheet" type="text/css" href="docs.css" />
  <title>Формат заданий - CATS</title>
</head>
<body leftmargin="0" topmargin="0">
<table width="100%" cellspacing="0" cellpadding="0">
  <tr bgcolor="#ffcc55" height="69" valign="bottom">
    <td class="top" rowspan="2"><img src="../images/std/logo.gif" border="0"></td>
    <td valign="bottom" width="100%" align="left" class="page_title">Формат заданий</td>
    <td align="right" class="top" rowspan="2">
      <table width="550" height="72" align="left" cellpadding="0" cellspacing="0" background="../images/std/bg.gif">
      <tr><td>&nbsp;</td></tr>
      </table>
    </td>
  </tr>
  <tr bgcolor="#ffcc55" height="3"><td></td></tr>
  <tr class="menu_bar"><td colspan="3">
    <a class="nav_href" href="..">на главную</a> | <a class="nav_href" href=".">содержание</a></td></tr>
  <tr><td colspan="3" style="padding: 5px"><br/><h2>Версия 1.4</h2>

<p><a href="sample.zip">скачать пример пакета с заданием</a></p>
<p>Для хранения задачи используется ZIP-файл, в корне которого обязательно
должен быть ровно один XML-файл с описанием условия задачи и
некоторый набор дополнительных файлов с тестами, программами проверки и т.д.
</p>
 
<h2>Структура XML-файла с задачей</h2>

<table class="ft">
<col width="1%"/><col width="40%"><col width="*"/>
<tr>
  <th>Название тэга<br/>Тэг верхнего уровня</th> <th>Атрибуты</th> <th>Комментарии</th>
</tr>
<tr>
  <td><tt>&lt;<a name="CATS">CATS</a>&gt;</tt></td>
  <td>version<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> (по умолчанию "1.4")</td>
  <td>Обязательный внешний тэг</td>
</tr>
<tr>
  <td><tt>&lt;<a name="Problem">Problem</a>&gt;<br/>&lt;<a href="#CATS">CATS</a>&gt;</tt></td>
  <td>
    <ul>
      <li>title - заголовок задачи;</li>
      <li>lang<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - язык описания задачи;</li>
      <li>tlimit - лимит времени на прохождения одного теста (в секундах);</li>
      <li>mlimit<sup><a href="#v11" title="С версии 1.1">1.1</a></sup> - лимит памяти на прохождение одного теста (в мегабайтах);</li>
      <li>author<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - автор;</li>
      <li>inputFile - имя входного файла;</li>
      <li>outputFile - имя выходного файла;</li>
      <li>difficulty<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#dv14" title="Устарела с версии 1.4">&minus;1.4</a></sup> - авторская оценка сложности задачи в баллах от (1 до 100);</li>
      <li>stdChecker<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#dv14" title="Устарела с версии 1.4">&minus;1.4</a></sup> - имя стандартной программы проверки;</li>
      <li>maxPoints<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#v13" title="С версии 1.3">1.3</a></sup> - максимальный балл за задачу, имеет приоритет перед суммой баллов по тестам</li>
    </ul>
  </td>
  <td>Стандартная программа проверки служит для сравнения выходного
    файла с файлом, содержащим ответ теста. Перечень стандартных программ проверки:
    <ul>
      <li>nums - проверяет совпадение целых чисел (4 байта - long int);</li>
      <li>floats2 - проверяет совпадение вещественных чисел (10 байт - long double);</li>
      <li>strs - проверяет совпадение строк до 256 символов;</li>
      <li>longnums - проверяет совпадение длинных целых чисел (до 10000 цифр);</li>
      <li>longstrs - проверяет совпадение длинных строк (до 10000 символов);</li>
    </ul>
    Начиная с версии 1.4, вместо атрибута stdChecker рекомендуется пользоваться
    тегом <tt>&lt;<a href="#Import">Import</a>&gt;</tt> с использованием следкющих стандартных guid:
    <ul>
      <li>std.nums - проверяет совпадение последовательностей 32-битных целых чисел;</li>
      <li>std.longnums - проверяет совпадение последовательностей беззнаковых целых чисел произвольной длины;</li>
      <li>std.floats<n>, где n от 2 до 5 -- проверяет совпадение вещественных чисел с точностью до n знаков;</li>
      <li>std.strs - проверяет совпадение наборов строк произвольной длины.</li>
    </ul>
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="Keyword">Keyword</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>
      <ul><li>code - код ключевого слова</li></ul>
  </td>
  <td>Код ключевого слова должен быть известен системе</td>
</tr>
<tr>
  <td><tt>&lt;<a name="ProblemStatement">ProblemStatement</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>Описание условия задачи в формате STML.</td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td><tt>&lt;<a name="ProblemConstraints">ProblemConstraints</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Описание ограничений на входные данные задачи в формате STML</td>
</tr>
<tr>
  <td><tt>&lt;<a name="InputFormat">InputFormat</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Описание формата входного файла в формате STML</td>
</tr>
<tr>
  <td><tt>&lt;<a name="OutputFormat">OutputFormat</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Описание формата выходного файла в формате STML.</td>
</tr>
<tr>
  <td><tt>&lt;<a name="Checker">Checker</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>
    <ul>
      <li>name - идентификатор объекта <tt>&lt;<a href="#Checker">Checker</a>&gt;</tt> (произвольная текстовая строка);</li>
      <li>src<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - путь к файлу с исходным кодом;</li>
      <li>de_code<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - код среды разработки;</li>
      <li>export<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#v14" title="С версии 1.4">1.4</a></sup> - глобальный идентификатор.</li>
    </ul>
  </td>
  <td>
    Описание проверяющей программы. Данный тэг игнорируется, если в описании задачи присутствует атрибут stdChecker.
    "src" - задает путь к файлу, относительно корня архива. Допускается использование вложенных каталогов.
    Регистр пути к файлу должен совпадать с регистром имен файлов в архиве.
    Перечень стандартных кодов сред разработки:
    <ul>
      <li>1<sup><a href="#v12" title="С версии 1.2">1.2</a></sup> - None (h;inc)</li>
      <li>101 - Cross-platform C/C++ compiler (cpp;c)</li>
      <li>102 - GNU C++ (cc;cxx)</li>
      <li>103 - MS Visual C++ (cpp;c)</li>
      <li>104 - Borland C++ 3.1 (cpp;c)</li>
      <li>201 - Borland Pascal 7.0 (pas)</li>
      <li>202 - Free Pascal (pp)</li>
      <li>203 - Borland Delphi (dpr)</li>
      <li>301 - Quick Basic (qb)  (поддерживается не полностью)<sup><a href="#v11" title="С версии 1.1">1.1</a></sup></li>
      <li>302 - Free Basic (bas) <sup><a href="#v14" title="С версии 1.4">1.4</a></sup></li>
      <li>401 - Java (java)<sup><a href="#v13" title="С версии 1.3">1.3</a></sup></li>
      <li>501 - Perl (pl)<sup><a href="#v14" title="С версии 1.4">1.4</a></sup></li>
    </ul>

    Если код среды разработки не указан, то он определяется по расширению файла,
    в порядке приоритета, заданного списком стандартных кодов сред разработки.
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="Picture">Picture</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>
    <ul>
      <li>name - идентификатор объекта <tt>&lt;<a href="#Picture">Picture</a>&gt;</tt> (произвольная текстовая строка);</li>
      <li>src<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - путь к файлу с изображением.</li>
    </ul>
  </td>	
  <td>Описание картинки, встраиваемой в текст задачи.</td>
</tr>
<tr>
  <td><tt>&lt;<a name="Solution">Solution</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>	
    <ul>
      <li>name - идентификатор объекта <tt>&lt;<a href="#Solution">Solution</a>&gt;</tt>;</li>
      <li>src<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - путь к файлу с исходным кодом;</li>
      <li>de_code<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - код среды разработки.</li>
      <li>export<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#v14" title="С версии 1.4">1.4</a></sup> - глобальный идентификатор.</li>
    </ul>
  </td>	
  <td>Описание эталонного решения.</td>
</tr>
<tr>
  <td><tt>&lt;<a name="Generator">Generator</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>
    <ul>
      <li>name - идентификатор объекта <tt>&lt;<a href="#Generator">Generator</a>&gt;</tt>;</li>
      <li>src<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - путь к файлу с исходным кодом;</li>
      <li>de_code<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - код среды разработки;</li>
      <li>outputFile<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#v12" title="С версии 1.2">1.2</a></sup> - имя выходного файла;</li>
      <li>export<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#v14" title="С версии 1.4">1.4</a></sup> - глобальный идентификатор.</li>
    </ul>
  </td>
  <td>Описание генератора тестов. Генератор должен создать файл,
    имя которого заданно в атрибуте <tt>outputFile</tt>. Этот файл используется в качестве
    исходных данных в теге <tt>&lt;<a href="#In">In</a>&gt;</tt>.
    По умолчанию имя файла должно совпадать со значением атрибута <tt>inputFile</tt> тега <tt>&lt;<a href="#Problem">Problem</a>&gt;</tt>.
    Специальное значение <tt>outputFile="*STDOUT"</tt> означает, что генератор выдаёт тест на стандартный вывод.
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="GeneratorRange">GeneratorRange</a>&gt;</tt><sup><a href="#v12" title="С версии 1.2">1.2</a></sup><br/><tt>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>
    <ul>
      <li>from - порядковый номер первого генератора;</li>
      <li>to - порядковый номер последнего генератора;</li>
      <li>name - идентификатор объекта <tt>&lt;<a href="#Generator">Generator</a>&gt;</tt>;</li>
      <li>src<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - путь к файлу с исходным кодом;</li>
      <li>de_code<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - код среды разработки.</li>
      <li>outputFile<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#v12" title="С версии 1.2">1.2</a></sup> - имя выходного файла.</li>
      <li>export<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#v14" title="С версии 1.4">1.4</a></sup> - глобальный идентификатор.</li>
    </ul>
  </td>
  <td>В атрибутах тега <tt>&lt;<a href="#GeneratorRange">GeneratorRange</a>&gt;</tt> допускается
    использование контекстных переменных:
    <ul>
      <li><tt>%n</tt> - номер текущего генератора;</li>
      <li><tt>%0n</tt> - номер текущего генератора с лидирующим нулем.</li>
    </ul>
    Например:<br/>
    <tt>&lt;GeneratorRange from="1" to="10" name="g%0n" src="gen%0n.pas"/&gt</tt>
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="Test">Test</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td><ul>
    <li>rank - порядковый номер теста</li>
    <li>points - количество баллов за тест</li>
  </ul></td>
  <td>Содержит описание тестов.
  В задаче должны присутствовать тесты со значениями rank от 1 до некоторого N.
  Если ни одного теста нет, то любое компилируемое решение будет принято как верное.
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="TestRange">TestRange</a>&gt;</tt><sup><a href="#v11" title="С версии 1.1">1.1</a></sup><br/><tt>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>
    <ul>
      <li>from - порядковый номер первого теста;</li>
      <li>to - порядковый номер последнего теста;</li>
       <li>points - количество баллов за каждый тест диапазона.</li>
    </ul>
  </td>
  <td>Внутри тега <tt>&lt;<a href="#TestRange">TestRange</a>&gt;</tt> допускается использование контекстных переменных:
    <ul>
      <li><tt>%n</tt> - номер текущего теста;</li>
      <li><tt>%0n</tt> - номер текущего теста с лидирующим нулем.</li>
    </ul>
    Например:<pre>&lt;TestRange from="1" to="10"&gt;
  &lt;In src="%0n.in"/&gt;&lt;Out use="solution"/&gt;
&lt;/TestRange&gt</pre></td>
</tr>
<tr>
  <td><tt>&lt;<a name="In">In</a>&gt;<br/>&lt;<a href="#Test">Test</a>&gt;</tt>, <tt>&lt;<a href="#TestRange">TestRange</a>&gt;</tt><sup><a href="#v11" title="С версии 1.1">1.1</a></sup></td>
  <td>
    <ul>  
      <li>use<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - идентификатор объекта <tt>&lt;<a href="#Generator">Generator</a>&gt;</tt>;</li>
      <li>param<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - параметры, передаваемые генератору тестов при запуске;</li>
      <li>src<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - путь к входному файлу теста (если не указан атрибут use).</li>
    </ul> 
  </td>
  <td>Описание входного файла теста.
    Если указан атрибут "use", то перед тестированием решения
    будет выполнена программа генерации входного файла теста, которая должна создать файл теста.
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="Out">Out</a>&gt;<br/>&lt;<a href="#Test">Test</a>&gt;</tt>, <tt>&lt;<a href="#TestRange">TestRange</a>&gt;</tt><sup><a href="#v11" title="С версии 1.1">1.1</a></sup></td>
  <td>
    <ul>
      <li>use<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - идентификатор объекта <tt>&lt;<a href="#Solution">Solution</a>&gt;</tt>;</li>
      <li>src<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - путь к выходному файлу теста (если не указан атрибут use).</li>
    </ul>
  </td>
  <td>Если указан атрибут "use", то перед тестированием решения на данном входном файле
    будет выполнено эталонное решение для генерации выходного файла теста.
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="Module">Module</a>&gt;</tt><sup><a href="#v12" title="С версии 1.2">1.2</a></sup><br/><tt>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>
    <ul>
      <li>name - идентификатор объекта <tt>&lt;<a href="#Module">Module</a>&gt;</tt>;</li>
      <li>src - путь к файлу с исходным кодом;</li>
      <li>de_code<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - код среды разработки.</li>
      <li>type - вид модуля (generator, checker, solution).</li>
      <li>export<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> <sup><a href="#v14" title="С версии 1.4">1.4</a></sup> - глобальный идентификатор.</li>
    </ul>
  </td>
  <td>Описание модуля. Файлы модулей распаковываются и компилируются вместе с каждым объектом
    соответствующего вида. Для модулей, отдельная компиляция которых не требуется, следует указывать
    среду разработку "None" (de_code="1").
    Порядок компиляции модулей совпадает с порядком перечисления в файле описания задачи.
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="Import">Import</a>&gt;</tt><sup><a href="#v14" title="С версии 1.4">1.4</a></sup><br/><tt>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>	
    <ul>   
      <li>guid <sup><a href="#v14" title="С версии 1.4">1.4</a></sup> - глобальный идентификатор импортируемого объекта.</li>
      <li>type - тип импортируемого объекта модуля (generator, checker, solution).</li>
    </ul>
  </td>
  <td>Импорт объекта из существующей задачи. Поиск объекта осуществляется по guid.
    Если указан атрибут type, проверяется соответствие тип объекта.
    Эффект от импорта объекта эквивалентен добавлению его копии в пакет с задачей.
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="Sample">Sample</a>&gt;<br/>&lt;<a href="#Problem">Problem</a>&gt;</tt></td>
  <td>
    rank - порядковый номер теста с примером (не пересекается с аналогичным атрибутом тега <Test>).
  </td>
  <td>Описание демонстрационного теста</td>
</tr>
<tr>
  <td><tt>&lt;<a name="SampleIn">SampleIn</a>&gt;<br/>&lt;<a href="#Sample">Sample</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>
    Содержит текст с примером входного файла. Отступы и переносы задаются также как и в текстовом файле.
  </td>
</tr>
<tr>
  <td><tt>&lt;<a name="SampleOut">SampleOut</a>&gt;<br/>&lt;<a href="#Sample">Sample</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Содержит текст с примером выходного файла.</td>
</tr>
</table>	

<a name="opt"></a><p><a href="" onclick="javascript:history.back(-1)"><sup>o</sup></a>
  Атрибуты, помеченные этим знаком, являются необязательными.</p>
<a name="v11"></a><p><a href="" onclick="javascript:history.back(-1)"><sup>1.1</sup></a>
  Данная возможность присутствует начиная с версии 1.1.</p>
<a name="v12"></a><p><a href="" onclick="javascript:history.back(-1)"><sup>1.2</sup></a>
  Данная возможность присутствует начиная с версии 1.2.</p>
<a name="v13"></a><p><a href="" onclick="javascript:history.back(-1)"><sup>1.3</sup></a>
  Данная возможность присутствует начиная с версии 1.3.</p>
<a name="v14"></a><p><a href="" onclick="javascript:history.back(-1)"><sup>1.4</sup></a>
  Данная возможность присутствует начиная с версии 1.4.</p>
<a name="dv14"></a><p><a href="" onclick="javascript:history.back(-1)"><sup>&minus;1.4</sup></a>
  Данная возможность считается устаревшей начиная с версии 1.4.</p>


<h2>Описание формата STML (Simple Text Markup Language)</h2>

<p>Формат STML - упрощенное подмножество HTML. В STML определены следующие тэги:</p>

<table class="ft">
<tr><th>Название тэга</br>Тэг верхнего уровня</th><th>Атрибуты</th><th>Комментарии</th></tr>
<tr><td><tt>&lt;<a name="img">img</a>&gt;</tt></td>
  <td>
    <ul>
      <li>picture - идентификатор объекта <tt>&lt;<a href="#Picture">Picture</a>&gt;</tt>;</li>
      <li>width<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - ширина изображения (в пикселях);</li>
      <li>height<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - высота изображения (в пикселях);</li>
      <li>align<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - метод выравнивание изображения<br/>
        (Может принимать значения: left - выравнивание по левому краю, right - по правому краю).</li>
    </ul>
  </td>	
  <td>Вставка картинки</td>
</tr>
<tr><td><tt>&lt;<a name="i">i</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Выделение курсивом.</td>
</tr>
<tr><td><tt>&lt;<a name="b">b</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Выделение жирным шрифтом.</td>
</tr>
<tr><td><tt>&lt;<a name="sup">sup</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Перевод в надстрочный индекс.</td>
</tr>
<tr><td><tt>&lt;<a name="sub">sub</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Перевод в подстрочный индекс.</td>
</tr>
<tr><td>&lt;table&gt;</td>
  <td>
    <ul>
      <li>border<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - 1 - граница присутствует,<br/>
        0 - в противном случае (по умолчанию граница присутствует);</li>
      <li>width<sup><a href="#opt" title="Необязательный атрибут">o</a></sup> - ширина таблицы.</li>
    </ul>
  </td>
  <td>Таблица.</td>
</tr>
<tr><td><tt>&lt;<a name="tr">tr</a>&gt;<br/>&lt;<a href="#table">table</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Ряд таблицы</td>
</tr>
<tr><td><tt>&lt;<a name="td">td</a>&gt;<br/>&lt;<a href="#tr">tr</a>&gt;</tt></td>
  <td>&nbsp;</td>
  <td>Ячейка таблицы</td>
</tr>
</table>
</td></tr>
<tr class="menu_bar">
  <td colspan="2">&nbsp;Справочная система - CATS</td>
  <td align="right"><a href="../main.pl?f=authors" class="nav_href">&copy; 2002-2006 Авторы</a>&nbsp;<td>
</tr>
<tr height="40" class="down">
  <td colspan="2" background="../images/std/bg2.gif">&nbsp;</td>
  <td align="right">
	<a href="http://imcs.dvgu.ru" class="nav_href">Институт математики и компьютерных наук&nbsp;<br> Дальневосточный государственный университет &nbsp;</a>
  </td>
</tr>
</table>
</body>
</html>
